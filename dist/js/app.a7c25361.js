(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},s=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"049f":function(t,e,a){"use strict";a("22ca")},"11ec":function(t,e,a){"use strict";a("8226")},"16d7":function(t,e,a){},"22ca":function(t,e,a){},"298c":function(t,e,a){},"38bb":function(t,e,a){},4138:function(t,e,a){t.exports=a.p+"img/puppies.05fdbad1.jpg"},4209:function(t,e,a){"use strict";a("641a")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return Or}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o={name:"App"},i=o,c=a("2877"),l=Object(c["a"])(i,n,s,!1,null,null,null),u=l.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("Header"),a("div",{staticClass:"body"},[a("h2",[t._v("Наши акции")]),a("index-corusel"),a("h2",[t._v("Наш каталог")]),a("IndexCatalog"),a("h2",[t._v("Новинки")]),t._v(" Work in progress... "),a("h2",[t._v("Популярные товары")]),t._v(" Work in progress... ")],1),a("Footer")],1)},p=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"row"},[t._m(0),t._m(1),a("div",{staticClass:"col-2"},[a("a",{attrs:{href:"/cart"}},[t._v("Корзина")]),a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.itemsInCart))])]),a("div",{staticClass:"col-2"},[null===t.user?a("p",[t._v("Добро пожаловать, гость")]):a("div",{staticClass:"not-guest"},[a("p",[t._v("Добро пожаловать, "+t._s(t.user.username))]),a("a",{attrs:{href:"/personalarea"}},[t._v("Лычный кабинет")])]),a("div",[a("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",variant:"info",text:"Выберете действие:"}},[a("b-dropdown-item",{attrs:{href:"/login"}},[t._v("Log In")]),a("b-dropdown-item",{on:{click:t.logOut}},[t._v("Log Out")]),a("b-dropdown-item",{attrs:{href:"/register"}},[t._v("Sign In")])],1)],1)]),a("div",{staticClass:"col-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"Поиск товаров в каталоге"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.searchProducts}},[t._v("Поиск")])])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("a",{attrs:{href:"/"}},[a("strong",[t._v('Hand-made магазин "Любимый питомец"')])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2"},[a("a",{attrs:{href:"/catalog"}},[t._v("Каталог")])])}],f=a("1da1"),h=(a("96cf"),{data:function(){return{searchText:"",itemsInCart:"",user:""}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},searchProducts:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Or.$emit("searchProducts",t.searchText);case 1:case"end":return e.stop()}}),e)})))()},addCountedItemsToBadge:function(t){this.itemsInCart=t}},created:function(){this.user=this.$store.state.auth.user,console.log(this.user.username),Or.$on("addCountedItemsToBadge",this.addCountedItemsToBadge)}}),b=h,_=(a("8baf"),Object(c["a"])(b,v,g,!1,null,null,null)),y=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item",on:{click:function(e){return t.openCatalogCategory("empty")}}},[t._v("Все товары")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.openCatalogCategory("Товары для собак")}}},[t._v("Товары для собак")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.openCatalogCategory("Товары для кошек")}}},[t._v("Товары для кошек")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.openCatalogCategory("Товары для рыбок")}}},[t._v("Товары для рыбок")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.openCatalogCategory("Товары для грызунов")}}},[t._v("Товары для грызунов")])])]),a("div",{staticClass:"col-4"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push({name:"questions"})}}},[t._v("Информация покупателям(ЧаВо)")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push({name:"sale"})}}},[t._v("Скидки и акции")])])]),a("div",{staticClass:"col-4"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push({name:"about"})}}},[t._v("О магазине")])]),t._m(0)])]),t._v(' © Hand-made магазин "Любимый питомец" ')])},x=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"social"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("img",{staticStyle:{height:"64px",width:"64px"},attrs:{src:a("7ffe")}})]),r("div",{staticClass:"col-6"},[r("img",{staticStyle:{height:"64px",width:"64px"},attrs:{src:a("b069")}})])])])}],k=(a("b0c0"),{methods:{openCatalogCategory:function(t){"catalog-page"===this.$route.name?Or.$emit("openCatalogCategory",t):this.$router.push({name:"catalog-page",params:{catalogParameter:t}})}}}),w=k,P=(a("774b"),Object(c["a"])(w,C,x,!1,null,null,null)),$=P.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index-catalog"},[r("div",{staticClass:"row"},t._l(t.animals,(function(e){return r("div",{key:e,staticClass:"col-3"},[r("div",{staticClass:"card",on:{click:function(a){return t.openCatalogCategory(e.name)}}},[r("img",{staticClass:"card-img-top",attrs:{src:a("4138"),alt:"dogs"}}),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[t._v(t._s(e.name))])])])])})),0)])},N=[],O=a("d4ec"),D=a("bee2"),A=a("bc3a"),U=a.n(A);function S(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{Authorization:"Bearer "+t.accessToken}:{}}var F="http://localhost:8080/api/animal",T=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getAnimals",value:function(){return U.a.get(F+"/get")}},{key:"getAnimal",value:function(t){return U.a.get(F+"/get/"+t)}},{key:"addAnimal",value:function(t){return U.a.post(F+"/add",t,{headers:S()})}},{key:"deleteAnimal",value:function(t){return U.a.delete(F+"/delete/"+t,{headers:S()})}},{key:"modifyAnimal",value:function(t,e){return U.a.put(F+"/modify/"+t,e,{headers:S()})}}]),t}(),j=new T,E={data:function(){return{animals:{},param:""}},methods:{getAnimals:function(){var t=this;j.getAnimalsList().then((function(e){t.animals=e.data,console.log(t.animals)}))},openCatalogCategory:function(t){console.log(t)}},created:function(){this.getAnimals()}},M=E,R=(a("cf17"),Object(c["a"])(M,I,N,!1,null,null,null)),L=R.exports,H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),a("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}})]),a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("img",{staticClass:"d-block w-100",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png",height:"300px",alt:""}})]),a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:"https://thumbs.dreamstime.com/b/no-image-available-icon-vector-illustration-flat-design-140476186.jpg",height:"300px",alt:""}})])]),a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Предыдущий")])]),a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Следующий")])])])}],B={},Q=Object(c["a"])(B,H,q,!1,null,null,null),V=Q.exports,W={name:"Index",components:{IndexCorusel:V,Header:y,Footer:$,IndexCatalog:L}},J=W,z=Object(c["a"])(J,m,p,!1,null,null,null),G=z.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"catalog"},[a("Header"),a("div",{staticClass:"body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("newMenuInCatalog")],1),a("div",{staticClass:"col-10"},[a("div",{staticClass:"catalog-nav"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-4"}),a("div",{staticClass:"col-3"},[a("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(e){return t.sortProducts(e)}}},[a("option",{attrs:{selected:"",value:"name,ASC"}},[t._v("По умолчанию")]),a("option",{attrs:{value:"price,ASC"}},[t._v("Сначала дешевле")]),a("option",{attrs:{value:"price,DESC"}},[t._v("Сначала дороже")]),a("option",{attrs:{value:"rating,DESC"}},[t._v("Сначала с высоким рейтингом")])])])])]),t._l(t.products,(function(t){return a("product-card",{key:t.id,attrs:{product:t}})}))],2)]),a("hr"),a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",on:{click:function(e){return t.changePageNoIndex("first")}}},[a("a",{staticClass:"page-link"},[t._v("«")])]),a("li",{staticClass:"page-item",on:{click:function(e){return t.changePageNoIndex("previous")}}},[a("a",{staticClass:"page-link"},[t._v("Предыдущая")])]),t._l(t.filter.totalPages,(function(e){return a("li",{key:e,staticClass:"page-item",on:{click:function(a){return t.changePage(e)}}},[a("a",{staticClass:"page-link"},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",on:{click:function(e){return t.changePageNoIndex("next")}}},[a("a",{staticClass:"page-link"},[t._v("Следующая")])]),a("li",{staticClass:"page-item",on:{click:function(e){return t.changePageNoIndex("last")}}},[a("a",{staticClass:"page-link"},[t._v("»")])])],2)])]),a("Footer")],1)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h1",[t._v("Каталог")])])}],Y=(a("4de4"),a("ac1f"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test"},[a("div",{staticClass:"custom-card"},[a("div",{staticClass:"card",staticStyle:{width:"18rem","margin-bottom":"25px","margin-right":"25px"}},[a("img",{staticClass:"card-img-top",staticStyle:{height:"286px",width:"286px"},attrs:{src:"http://localhost:8080/files/"+t.product.image,alt:""},on:{click:function(e){return t.$router.push({name:"product-page",params:{id:t.product.id}})}}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.product.name))]),a("p",{staticClass:"card-text"},[t._v("Стоимость за шт. "+t._s(t.product.price)+" руб.")]),1===t.product.amount?a("p",{staticStyle:{color:"crimson"}},[t._v(" Поторопитесь! Осталась одна штука")]):0===t.product.amount?a("p",[t._v(" Товар распродан")]):a("p",[t._v(" Кол-во на складе: "+t._s(t.product.amount)+" шт.")]),null!==t.product.sale?a("div",[a("p",[t._v("Скидка "+t._s(t.product.sale.discount)+"%")]),a("p",[t._v("Стоимость с учетом скидки "+t._s(t.priceWithDiscount))])]):t._e()]),a("div",{staticClass:"card-footer"},[0===t.product.amount?a("button",{staticClass:"btn btn-secondary"},[t._v("Добавить в корзину")]):a("button",{staticClass:"btn btn-primary",on:{click:t.addProductToCart}},[t._v("Добавить в корзину")])])])])])}),Z=[],tt="http://localhost:8080/api/cart",et=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"addProductToCart",value:function(t){return U.a.post(tt+"/add",t,{headers:S()})}},{key:"getNewCart",value:function(){return U.a.get(tt+"/get",{headers:S()})}},{key:"getCartSummary",value:function(){return U.a.get(tt+"/summary",{headers:S()})}},{key:"modifyProductInCart",value:function(t){return U.a.put(tt+"/modify",t,{headers:S()})}},{key:"deleteProductFromCart",value:function(t){return U.a.delete(tt+"/delete/"+t,{headers:S()})}}]),t}(),at=new et,rt={props:{product:{type:Object}},data:function(){return{priceWithDiscount:0}},methods:{calculateDiscount:function(){null!==this.product.sale&&(this.priceWithDiscount=this.product.price/100*(100-this.product.sale.discount))},addProductToCart:function(){var t={productId:this.product.id,amount:1};at.addProductToCart(t)}},created:function(){this.calculateDiscount()}},nt=rt,st=Object(c["a"])(nt,Y,Z,!1,null,null,null),ot=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-left-menu"},[a("h2",[t._v("Расширенный поиск")]),a("p",[a("strong",{on:{click:function(e){t.isAnimalClicked=!t.isAnimalClicked}}},[t._v("Питомец")])]),t.isAnimalClicked?a("div",{staticClass:"animal"},t._l(t.animals,(function(e){return a("div",{key:e.name},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAnimal,expression:"selectedAnimal"}],attrs:{type:"radio"},domProps:{value:e.name,checked:t._q(t.selectedAnimal,e.name)},on:{change:[function(a){t.selectedAnimal=e.name},t.getAnimal]}}),t._v(" "+t._s(e.name)+" ")])})),0):t._e(),a("p",[a("strong",{on:{click:function(e){t.isCategoryClicked=!t.isCategoryClicked}}},[t._v("Категория")])]),t.isCategoryClicked?a("div",{staticClass:"category"},t._l(t.categories,(function(e){return a("div",{key:e.name,staticClass:"category-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategories,expression:"selectedCategories"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.selectedCategories)?t._i(t.selectedCategories,e.name)>-1:t.selectedCategories},on:{change:function(a){var r=t.selectedCategories,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&(t.selectedCategories=r.concat([o])):i>-1&&(t.selectedCategories=r.slice(0,i).concat(r.slice(i+1)))}else t.selectedCategories=s}}}),t._v(" "+t._s(e.name)+" ")])})),0):t._e(),a("p",[a("strong",{on:{click:function(e){t.isPriceClicked=!t.isPriceClicked}}},[t._v("Цена")])]),t.isPriceClicked?a("div",{staticClass:"price"},[a("div",{staticClass:"price-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startPrice,expression:"startPrice"}],attrs:{type:"text",placeholder:"от руб."},domProps:{value:t.startPrice},on:{input:function(e){e.target.composing||(t.startPrice=e.target.value)}}}),t._v(" - "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.endPrice,expression:"endPrice"}],attrs:{type:"text",placeholder:"до руб."},domProps:{value:t.endPrice},on:{input:function(e){e.target.composing||(t.endPrice=e.target.value)}}})])]):t._e(),a("button",{staticClass:"btn-success",on:{click:t.createUserFilter}},[t._v("Применить фильтр")])])},ct=[],lt="http://localhost:8080/api/category",ut=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getCategory",value:function(t){return U.a.get(lt+"/get/"+t)}},{key:"getCategoriesSet",value:function(){return U.a.get(lt+"/get")}},{key:"addCategory",value:function(t){return U.a.post(lt+"/add",t,{headers:S()})}},{key:"deleteCategory",value:function(t){return U.a.delete(lt+"/delete/"+t,{headers:S()})}},{key:"modifyCategory",value:function(t,e){return U.a.put(lt+"/modify/"+t,e,{headers:S()})}}]),t}(),dt=new ut,mt={data:function(){return{selectedAnimal:null,selectedCategories:[],animals:{},categories:{},isAnimalClicked:!1,isCategoryClicked:!1,isPriceClicked:!1,startPrice:0,endPrice:999999}},methods:{getAnimals:function(){var t=this;j.getAnimals().then((function(e){t.animals=e.data}))},getAnimal:function(){var t=this;j.getAnimal(this.selectedAnimal).then((function(e){t.categories=e.data.categories,t.isCategoryClicked=!0,t.selectedCategories=[]}))},getCategories:function(){var t=this;dt.getCategoriesSet().then((function(e){t.categories=e.data}))},createUserFilter:function(){var t={animal:this.selectedAnimal,categories:this.selectedCategories,priceFrom:this.startPrice,priceTo:this.endPrice};Or.$emit("createUserFilter",t)}},created:function(){this.getAnimals(),this.getCategories()}},pt=mt,vt=(a("11ec"),Object(c["a"])(pt,it,ct,!1,null,null,null)),gt=vt.exports,ft="http://localhost:8080/api/products/",ht="",bt=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getByUserFilter",value:function(t){return U.a.post(ft+"filter",t)}},{key:"getAllProductsFromCatalog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2?arguments[2]:void 0;return ht="page="+t+"&size="+e,U.a.get(ft+"?"+ht+"&sort="+a)}},{key:"getProductFromCatalog",value:function(t){return U.a.get(ft+t)}},{key:"addProductToCatalog",value:function(t){return U.a.post(ft+"add",t,{headers:S()})}},{key:"deleteProductFromCatalog",value:function(t){return U.a.delete(ft+"delete/"+t,{headers:S()})}},{key:"modifyProductInCatalog",value:function(t,e){return U.a.put(ft+"modify/"+t,e,{headers:S()})}},{key:"getOneProduct",value:function(t){return U.a.get(ft+t,{headers:S()})}}]),t}(),_t=new bt,yt={name:"Catalog",components:{ProductCard:ot,Header:y,Footer:$,newMenuInCatalog:gt},data:function(){return{content:{},products:[],productsFromServer:{},text:"Все товары",filter:{animal:null,categories:null,priceFrom:1,priceTo:99999,pageNumber:0,pageSize:4,totalPages:null,sortBy:"name",sortDirection:"ASC",searchText:null}}},methods:{getFilteredProducts:function(){var t=this;_t.getByUserFilter(this.filter).then((function(e){t.productsFromServer=e,console.log(t.productsFromServer),t.products=t.productsFromServer.data.content,t.filter.totalPages=t.productsFromServer.data.totalPages}))},sortProducts:function(t){var e=t.target.value,a=e.split(",",2);this.filter.sortBy=a[0],this.filter.sortDirection=a[1],this.getFilteredProducts()},changePage:function(t){this.filter.pageNumber=t-1,this.getFilteredProducts(),window.scrollTo(0,0)},changePageNoIndex:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=t,a.next="first"===a.t0?3:"previous"===a.t0?5:"next"===a.t0?7:"last"===a.t0?9:11;break;case 3:return e.filter.pageNumber=0,a.abrupt("break",11);case 5:return e.filter.pageNumber>0&&(e.filter.pageNumber=e.filter.pageNumber-1),a.abrupt("break",11);case 7:return e.filter.pageNumber!==e.filter.totalPages-1&&(e.filter.pageNumber=e.filter.pageNumber+1),a.abrupt("break",11);case 9:return e.filter.pageNumber=e.filter.pageNumber-1,a.abrupt("break",11);case 11:return a.next=13,e.getFilteredProducts();case 13:window.scrollTo(0,0);case 14:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;this.getFilteredProducts(),Or.$on("createUserFilter",(function(e){t.filter.animal=e.animal,t.filter.categories=e.categories,t.filter.priceFrom=e.priceFrom,t.filter.priceTo=e.priceTo,t.getFilteredProducts()})),Or.$on("searchProducts",(function(e){t.filter.searchText=e,t.getFilteredProducts()})),Or.$on("changePage",(function(e){t.filter.pageNumber=e,t.getFilteredProducts()})),Or.$on("sortProducts",(function(e){t.filter.pageNumber=e,t.getFilteredProducts()}))}},Ct=yt,xt=Object(c["a"])(Ct,K,X,!1,null,null,null),kt=xt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-page"},[a("Header"),a("div",{staticClass:"body"},[a("div",{staticClass:"category-nav"},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.currentProduct.animal))]),a("a",{attrs:{href:"#"}},[t._v(t._s(t.currentProduct.category))])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("img",{attrs:{src:t.currentProduct.image,alt:t.currentProduct.name,height:"300px"}})]),a("div",{staticClass:"col-7"},[a("h1",[t._v(t._s(t.currentProduct.name))]),a("p",[t._v("Артикул товара: "+t._s(t.currentProduct.id))]),a("hr"),a("p",[t._v("Описание: "+t._s(t.currentProduct.description))]),a("hr"),a("p",[t._v("В наличии: "+t._s(t.currentProduct.amount)+" шт.")]),a("p",[a("button",{staticClass:"btn btn-primary",on:{click:t.addProductToCart}},[t._v("Добавить в корзину: "+t._s(t.currentProduct.price)+" руб.")])])])]),a("section",{staticClass:"comment"},[t._m(0),a("CommentForm"),a("CommentList",{attrs:{comments:t.comments}})],1)])])],1)},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"title"},[t._v(" Комментарии ")])])])}],$t=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-form"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form__text-area col-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.commentData.text,expression:"commentData.text",modifiers:{trim:!0}}],attrs:{resize:"none",placeholder:"Оставьте комментарий!"},domProps:{value:t.commentData.text},on:{input:function(e){e.target.composing||t.$set(t.commentData,"text",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form__rating col-6"},[a("CommentDropDown",{model:{value:t.commentData.rating,callback:function(e){t.$set(t.commentData,"rating",e)},expression:"commentData.rating"}})],1),a("div",{staticClass:"form__button col-6"},[a("button",{staticClass:"comment-button btn btn-primary",on:{click:t.addComment}},[t._v("Оставить комментарий")])])])])}),It=[],Nt="http://localhost:8080/comments/",Ot=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getComments",value:function(t){return U.a.get(Nt+t,{headers:S()})}},{key:"generateComment",value:function(t,e){return U.a.post(Nt+t,e,{headers:S()})}},{key:"updateComment",value:function(t,e){return U.a.put(Nt+t,e,{headers:S()})}},{key:"deleteComment",value:function(t){return U.a.delete(Nt+t,{headers:S()})}},{key:"generateAnswer",value:function(t,e){return U.a.post(Nt+t+"/answer",e,{headers:S()})}},{key:"deleteAnswer",value:function(t){return U.a.delete(Nt+t+"/answer",{headers:S()})}},{key:"getAnswers",value:function(t){return U.a.get(Nt+t+"/answer",{headers:S()})}}]),t}(),Dt=new Ot,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment__drop-down"},[a("b-dropdown",{staticClass:"m-md-2",attrs:{variant:"info",text:"Оцените продукт"}},[a("b-dropdown-item",{on:{click:function(e){return t.$emit("change",e.target.value=1)}}},[t._v("Ужасно")]),a("b-dropdown-item",{on:{click:function(e){return t.$emit("change",e.target.value=2)}}},[t._v("Пплохо")]),a("b-dropdown-item",{on:{click:function(e){return t.$emit("change",e.target.value=3)}}},[t._v("Нормально")]),a("b-dropdown-item",{on:{click:function(e){return t.$emit("change",e.target.value=4)}}},[t._v("Хорошо")]),a("b-dropdown-item",{on:{click:function(e){return t.$emit("change",e.target.value=5)}}},[t._v("Отлично")])],1)],1)},Ut=[],St={name:"CommentDropDown",props:["rating"],model:{prop:"value",event:"change"}},Ft=St,Tt=Object(c["a"])(Ft,At,Ut,!1,null,"7f584fbd",null),jt=Tt.exports,Et={name:"CommentForm",components:{CommentDropDown:jt},data:function(){return{commentData:{text:"",rating:null}}},methods:{addComment:function(){""!==this.commentData.text&&null!==this.commentData.rating?(Dt.generateComment(this.$route.params.id,this.commentData).then((function(t){console.log(t.data)})),this.commentData.text="",this.commentData.rating=null):alert("Оставьте комментарий и оцените продукт")}}},Mt=Et,Rt=(a("d1bd"),Object(c["a"])(Mt,$t,It,!1,null,"7cae7165",null)),Lt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-list row"},t._l(t.comments,(function(t,e){return a("CommentEl",{key:e,attrs:{comment:t}})})),1)},qt=[],Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-el col-12"},[a("div",{staticClass:"comment"},[a("div",{staticClass:"comment__head"},[a("div",{staticClass:"head__el user-name"},[a("p",[t._v(" "+t._s(t.comment.userName)+" ")])]),a("div",{staticClass:"head__el date"},[a("div",{staticClass:"date-create"},[a("p",[t._v(" "+t._s("Оставлен "+t.comment.date)+" ")])]),a("div",{staticClass:"date-update"},[a("p",[t._v(" "+t._s(null!==t.comment.dateUpdate?"Изменён "+t.comment.dateUpdate:"")+" ")])])]),a("div",{staticClass:"head__el rating"},[a("p",[t._v(" "+t._s(t.comment.rating)+" из 5 ")])])]),a("div",{staticClass:"comment__body"},[a("div",{staticClass:"text"},[a("p",[t._v(" "+t._s(!0===t.isButtonVisible&&t.fullText.length>=150?t.shortText+"...":t.fullText)+" ")])]),a("div",{staticClass:"text-extension"},[t.fullText.length>=150?a("span",{on:{click:function(e){t.isButtonVisible=!t.isButtonVisible}}},[t._v(" "+t._s(t.isButtonVisible?"Показать":"Скрыть")+" ")]):t._e()])]),a("div",{staticClass:"comment__footer"},[t.$store.state.auth.user.username===t.comment.userName?a("div",{staticClass:"modify"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"+t.comment.commentId,"data-bs-whatever":"@mdo"}},[t._v("Редактировать")])]):t._e(),a("div",{staticClass:"add-answer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-toggle":"modal","data-bs-whatever":"@mdo"},on:{click:t.addAnswer}},[t._v("Ответить")])])])]),t._m(0),a("CommentModal",{attrs:{fullText:t.comment.text,rating:t.comment.rating,id:t.comment.commentId}})],1)},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"answers"},[a("h5",[t._v("Ответы")]),a("hr")])}],Vt=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment__modal"},[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal"+t.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"mb-3"},[a("CommentDropDown",{model:{value:t.modalData.rating,callback:function(e){t.$set(t.modalData,"rating",e)},expression:"modalData.rating"}})],1),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-form-label"},[t._v("Message:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modalData.text,expression:"modalData.text"}],staticClass:"form-control",attrs:{resize:"none"},domProps:{value:t.modalData.text,textContent:t._s(t.fullText)},on:{input:function(e){e.target.composing||t.$set(t.modalData,"text",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.modifyComment}},[t._v("Send message")])])])])])])}),Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("New message")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],Jt={name:"CommentModal",components:{CommentDropDown:jt},props:["fullText","rating","id"],data:function(){return{modalData:{text:this.fullText,rating:this.rating}}},methods:{modifyComment:function(){this.modalData.text!==this.fullText?Dt.updateComment(this.id,this.modalData).then((function(t){console.log(t.data)})):alert("Измените комментарий")}}},zt=Jt,Gt=Object(c["a"])(zt,Vt,Wt,!1,null,"49104a39",null),Kt=Gt.exports,Xt={name:"CommentEl",components:{CommentModal:Kt},props:["comment"],data:function(){return{isAppear:!1,isButtonVisible:!1,fullText:this.comment.text,shortText:"",payload:{text:"answer"},answers:null}},created:function(){this.visibleButton(),this.sliceText(),this.getAnswer()},methods:{getAnswer:function(){Dt.getAnswers(this.comment.commentId)},addAnswer:function(){Dt.generateAnswer(this.comment.commentId,this.payload)},visibleButton:function(){if(this.comment.text.length>150)return this.isButtonVisible=!0},sliceText:function(){this.comment.text.length>150&&(this.shortText=this.fullText.slice(0,150))}}},Yt=Xt,Zt=(a("8d4f"),Object(c["a"])(Yt,Bt,Qt,!1,null,"4db2c53f",null)),te=Zt.exports,ee={name:"CommentList",components:{CommentEl:te},props:["comments"]},ae=ee,re=Object(c["a"])(ae,Ht,qt,!1,null,"0a2201a2",null),ne=re.exports,se={name:"ProductPage",components:{Header:y,CommentForm:Lt,CommentList:ne},data:function(){return{currentProduct:{id:"",name:"",price:"",image:"",description:"",amount:"",animal:"",category:""},comments:null}},created:function(){this.currentProduct.id=this.$route.params.id,this.getProductFromCatalog(),this.getComments()},methods:{getComments:function(){var t=this;Dt.getComments(this.currentProduct.id).then((function(e){t.comments=e.data,console.log(t.comments)}))},getProductFromCatalog:function(){var t=this;_t.getProductFromCatalog(this.currentProduct.id).then((function(e){t.currentProduct.name=e.data.name,t.currentProduct.price=e.data.price,t.currentProduct.image=e.data.image,t.currentProduct.description=e.data.description,t.currentProduct.amount=e.data.amount,t.currentProduct.animal=e.data.animal,t.currentProduct.category=e.data.category}))},addProductToCart:function(){at.addToCart(this.currentProduct.id)}}},oe=se,ie=(a("6634"),Object(c["a"])(oe,wt,Pt,!1,null,null,null)),ce=ie.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"personal-area"},[a("Header"),a("div",{staticClass:"body"},[a("h1",[t._v(t._s(t.text))]),a("div",{staticClass:"profile"},[a("p",[t._v("Имя: "+t._s(t.user.name))]),a("p",[t._v("Фамилия: "+t._s(t.user.surname))]),a("p",[t._v("Отчество: "+t._s(t.user.secondName))]),a("p",[t._v("Телефон: "+t._s(t.user.phone))]),a("p",[t._v("Эл. адрес: "+t._s(t.user.email))]),a("p",[t._v("Адрес доставки: "+t._s(t.user.address))]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("modify-user-modal")}}},[t._v("Редактировать контактные данные")]),a("b-modal",{attrs:{id:"modify-user-modal","hide-footer":"",title:"Изменить контактные данные"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите Ваше имя:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),a("p",[t._v("Введите Вашу фамилию:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.surname,expression:"user.surname"}],attrs:{type:"text"},domProps:{value:t.user.surname},on:{input:function(e){e.target.composing||t.$set(t.user,"surname",e.target.value)}}})]),a("p",[t._v("Введите Ваше отчество (при наличии):"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.secondName,expression:"user.secondName"}],attrs:{type:"text"},domProps:{value:t.user.secondName},on:{input:function(e){e.target.composing||t.$set(t.user,"secondName",e.target.value)}}})]),a("p",[t._v("Введите адрес доставки:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],attrs:{type:"text"},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}})]),a("p",[t._v("Введите Ваш номер телефона:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],attrs:{type:"text"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})])]),a("button",{staticClass:"btn btn-success",on:{click:t.modifyUser}},[t._v("Изменить данные")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-user-modal")}}},[t._v("Закрыть")])])],1),a("div",{staticClass:"orders"},[t._l(t.orders,(function(t){return a("orders-component",{key:t.orderId,attrs:{order:t}})})),a("b-modal",{attrs:{id:"modify-order-modal","hide-footer":"",title:"Изменить статус заказа"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Измените статус заказа")]),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectStatus(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете статус заказа")]),t._l(t.statuses,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2)]),a("button",{staticClass:"btn btn-success",on:{click:t.modifyOrder}},[t._v("Изменить статус")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-order-modal")}}},[t._v("Закрыть")])])],2)]),a("Footer")],1)},ue=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orders-component"},[a("div",{staticClass:"order-card",on:{click:t.changeVisible}},[a("h2",[t._v("Заказ № "+t._s(t.order.orderId)+" на сумму "+t._s(t.order.summary)+" руб.")]),t.isVisible?a("div",[a("p",[t._v("Товары:")]),t._l(t.order.productsInfo,(function(e){return a("div",{key:e},[a("p",[t._v(t._s(e))])])}))],2):t._e(),t.isVisible?a("p",[t._v("Тип заказа: "+t._s(t.order.orderType))]):t._e(),t.isVisible?a("p",[t._v("Статус заказа: "+t._s(t.order.orderStatus))]):t._e(),t.isVisible?a("p",[t._v("Дата заказа: "+t._s(t.order.date))]):t._e(),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.modifyOrderEvent}},[t._v("Редактировать заказ")])])])},me=[],pe={props:{order:{type:Object}},data:function(){return{isVisible:!1}},methods:{modifyOrderEvent:function(){Or.$emit("modifyOrderEvent",this.order.orderId)},changeVisible:function(){this.isVisible=!this.isVisible}}},ve=pe,ge=Object(c["a"])(ve,de,me,!1,null,null,null),fe=ge.exports,he="http://localhost:8080/api/order",be=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"createOrder",value:function(t){return U.a.post(he+"/add",t,{headers:S()})}},{key:"getOrders",value:function(){return U.a.get(he+"/get",{headers:S()})}},{key:"getOrder",value:function(t){return U.a.get(he+"/get/"+t,{headers:S()})}},{key:"getOrderStatusesList",value:function(){return U.a.get(he+"/status",{headers:S()})}},{key:"modifyOrderStatus",value:function(t){return U.a.put(he+"/modify",t,{headers:S()})}}]),t}(),_e=new be,ye="http://localhost:8080/user/",Ce=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getUser",value:function(){return U.a.get(ye,{headers:S()})}},{key:"modifyUser",value:function(t){return U.a.put(ye+"modify",t,{headers:S()})}},{key:"getUserById",value:function(t){return U.a.get(ye+t,{headers:S()})}},{key:"promoteToAdmin",value:function(t){return U.a.get(ye+"promote/"+t,{headers:S()})}},{key:"demoteToUser",value:function(t){return U.a.get(ye+"demote/"+t,{headers:S()})}}]),t}(),xe=new Ce,ke={name:"PersonalArea",components:{Header:y,Footer:$,ordersComponent:fe},data:function(){return{text:"Личный кабинет",user:{name:"Укажите имя",surname:"Укажите фамилию",secondName:"Отсутствует",phone:"Укажите телефон",email:"",address:"Укажите адрес доставки"},orders:"",statuses:["Возврат","Отмена"],status:"",orderDTO:{orderId:"",orderStatus:""}}},methods:{modifyOrderEvent:function(){this.$bvModal.show("modify-order-modal")},modifyOrder:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.orderDTO.orderStatus=t.status,e.next=3,_e.modifyOrderStatus(t.orderDTO);case 3:t.$bvModal.hide("modify-order-modal"),t.getOrders();case 5:case"end":return e.stop()}}),e)})))()},selectStatus:function(t){this.status=t.target.value},modifyUser:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.modifyUser(t.user);case 2:t.$bvModal.hide("modify-user-modal");case 3:case"end":return e.stop()}}),e)})))()},getOrders:function(){var t=this;_e.getOrders().then((function(e){t.orders=e.data.content}))},getUserProfile:function(){var t=this;xe.getUser().then((function(e){null!==e.data.name&&(t.user.name=e.data.name),null!==e.data.surname&&(t.user.surname=e.data.surname),null!==e.data.secondName&&(t.user.secondName=e.data.secondName),null!==e.data.phoneNumber&&(t.user.phone=e.data.phoneNumber),null!==e.data.address&&(t.user.address=e.data.address),t.user.email=e.data.email,t.user.id=e.data.id}))}},created:function(){var t=this;this.getUserProfile(),this.getOrders(),Or.$on("modifyOrderEvent",(function(e){t.orderDTO.orderId=e,t.modifyOrderEvent()}))}},we=ke,Pe=(a("989d"),Object(c["a"])(we,le,ue,!1,null,null,null)),$e=Pe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("Header"),a("div",{staticClass:"body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},t._l(t.products,(function(t){return a("cart-item",{key:t.id,attrs:{product:t}})})),1),a("div",{staticClass:"col-5"},[a("p",[t._v("Товаров в корзине: "+t._s(t.cart.numberOfProductsInCart))]),a("p",[t._v("Цена без скидки: "+t._s(t.cart.priceWithoutDiscount)+" руб.")]),a("p",[t._v("Ваша скидка: "+t._s(t.cart.discount))]),a("p",[t._v("Цена с учетом скидки: "+t._s(t.cart.priceWithDiscount)+" руб.")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.show("order-modal")}}},[t._v("Оформить покупку")])],1),a("b-modal",{attrs:{id:"order-modal","hide-footer":"",title:"Оформить покупку"}},[a("div",{staticClass:"d-block text-left"},[a("form",[a("p",[t._v("Ваш зкаказ:")]),t._l(t.products,(function(e){return a("div",{key:e.id,attrs:{product:e}},[a("p",[t._v("Товар: "+t._s(e.product.name)+" - "+t._s(e.amount)+" шт.")])])})),a("select",{directives:[{name:"model",rawName:"v-model",value:t.defaultOrderType,expression:"defaultOrderType"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.defaultOrderType=e.target.multiple?a:a[0]}}},t._l(t.orderType,(function(e){return a("option",{key:e,domProps:{value:e.value}},[t._v(" "+t._s(e.value)+" ")])})),0),"Доставка"===t.defaultOrderType?a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Адрес")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.address,expression:"order.address"}],staticClass:"form-control",attrs:{disabled:t.inputStatus,type:"text"},domProps:{value:t.order.address},on:{input:function(e){e.target.composing||t.$set(t.order,"address",e.target.value)}}})]):t._e(),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("ФИО покупателя")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.fullName,expression:"order.fullName"}],staticClass:"form-control",attrs:{disabled:t.inputStatus,type:"text"},domProps:{value:t.order.fullName},on:{input:function(e){e.target.composing||t.$set(t.order,"fullName",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Телефон")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.phoneNumber,expression:"order.phoneNumber"}],staticClass:"form-control",attrs:{disabled:t.inputStatus,type:"text"},domProps:{value:t.order.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.order,"phoneNumber",e.target.value)}}})]),a("p",[a("input",{attrs:{type:"checkbox"},on:{change:t.changeOrderInfo}}),t._v("Изменить данные заказа")]),a("p",[a("input",{attrs:{type:"checkbox"},on:{change:t.saveOrderInfo}}),t._v("Изменить данные в личном кабинете")]),a("p",[t._v("*Оплата производится наличными и только при получении товара")])],2)]),a("b-button",{attrs:{variant:"success"},on:{click:t.orderProducts}},[t._v("Оформить")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.$bvModal.hide("add-modal")}}},[t._v("Закрыть")])],1)],1)]),a("Footer")],1)},Ne=[],Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-3"},[a("img",{attrs:{src:"http://localhost:8080/files/"+t.product.product.image,width:"200px",height:"200px",alt:""}})]),a("div",{staticClass:"col-2"},[t._v(" "+t._s(t.product.product.name)+" На складе "+t._s(t.product.product.amount)+" шт. ")]),a("div",{staticClass:"col-3"},[t._v(" "+t._s(t.product.product.price)+" руб. "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addQuantity}},[t._v("+")]),t._v(" "+t._s(t.product.amount)+" шт. "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.subQuantity}},[t._v("-")])]),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteProductFromCart}},[t._v("Удалить")])])]),a("hr")])},De=[],Ae={props:{product:{type:Object}},data:function(){return{currentQuantity:1}},methods:{addQuantity:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.currentQuantity<t.product.product.amount)){e.next=7;break}return t.currentQuantity++,a={productId:t.product.productId,amount:t.currentQuantity},e.next=5,at.modifyProductInCart(a);case 5:return e.next=7,Or.$emit("addQuantity");case 7:case"end":return e.stop()}}),e)})))()},subQuantity:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.currentQuantity>1)){e.next=7;break}return t.currentQuantity--,a={productId:t.product.productId,amount:t.currentQuantity},e.next=5,at.modifyProductInCart(a);case 5:return e.next=7,Or.$emit("subQuantity");case 7:case"end":return e.stop()}}),e)})))()},deleteProductFromCart:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.deleteProductFromCart(t.product.productId);case 2:Or.$emit("deleteProductFromCart");case 3:case"end":return e.stop()}}),e)})))()}},created:function(){this.currentQuantity=this.product.amount}},Ue=Ae,Se=Object(c["a"])(Ue,Oe,De,!1,null,null,null),Fe=Se.exports,Te={name:"Cart",components:{CartItem:Fe,Header:y,Footer:$},data:function(){return{cart:{numberOfProductsInCart:0,priceWithoutDiscount:0,discount:0,priceWithDiscount:0},order:{products:[],orderType:"",fullName:"",address:"",phoneNumber:"",changeData:!1,saveData:!1},text:"Корзина",products:[],orderType:[{value:"Самовывоз"},{value:"Доставка"}],defaultOrderType:"Самовывоз",inputStatus:!0}},methods:{addProductsToOrder:function(){for(var t=0;t<this.products.length;t++)this.order.products.push(this.products[t].productId)},changeOrderInfo:function(){this.inputStatus=!this.inputStatus,this.order.changeData=!this.order.changeData},saveOrderInfo:function(){this.order.saveData=!this.order.saveData},getUserInformation:function(){var t=this;xe.getUser().then((function(e){t.order.fullName=e.data.username,t.order.address=e.data.address,t.order.phoneNumber=e.data.phoneNumber}))},getNewCart:function(){var t=this;at.getNewCart().then((function(e){t.products=e.data.content,t.getCartSummary(),t.addProductsToOrder()}))},getCartSummary:function(){var t=this;at.getCartSummary().then((function(e){t.cart.numberOfProductsInCart=e.data[0],t.cart.priceWithoutDiscount=e.data[1],t.cart.discount=e.data[2],t.cart.priceWithDiscount=e.data[3]}))},orderProducts:function(){this.order.orderType=this.defaultOrderType,_e.createOrder(this.order),this.$bvModal.hide("order-modal")}},created:function(){Or.$on("deleteProductFromCart",this.getNewCart),Or.$on("addQuantity",this.getNewCart),Or.$on("subQuantity",this.getNewCart),this.getNewCart(),this.getUserInformation()}},je=Te,Ee=(a("049f"),Object(c["a"])(je,Ie,Ne,!1,null,null,null)),Me=Ee.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deals"},[a("Header"),a("div",{staticClass:"body"},[a("h1",[t._v(t._s(t.text))]),t._l(t.sales,(function(t){return a("sale-list",{key:t.id,attrs:{sale:t}})}))],2),a("Footer")],1)},Le=[],He="http://localhost:8080/api/sale",qe=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"getSales",value:function(){return U.a.get(He+"/get",{headers:S()})}},{key:"createSale",value:function(t){return U.a.post(He+"/add",t,{headers:S()})}},{key:"getSale",value:function(t){return U.a.get(He+"/get/"+t)}},{key:"deleteSale",value:function(t){return U.a.delete(He+"/delete/"+t,{headers:S()})}},{key:"modifySale",value:function(t){return U.a.put(He+"/modify",t,{headers:S()})}}]),t}(),Be=new qe,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"saleComponent"},[a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-3"},[a("img",{staticStyle:{width:"300px",height:"300px"},attrs:{src:"http://localhost:8080/files/"+t.sale.image}})]),a("div",{staticClass:"col-5"},[a("h2",[t._v(t._s(t.sale.name))]),a("p",[t._v(t._s(t.sale.description))]),a("p",[t._v("Время проведения акции с "+t._s(t.sale.date)+" по "+t._s(t.sale.expirationDate)+".")]),a("p",[t._v("Скидка в размере "+t._s(t.sale.discount)+"%")])]),a("div",{staticClass:"col-2"})])])},Ve=[],We={props:{sale:{type:Object}}},Je=We,ze=Object(c["a"])(Je,Qe,Ve,!1,null,null,null),Ge=ze.exports,Ke={name:"Deals",components:{SaleList:Ge,Header:y,Footer:$},data:function(){return{text:"Скидки и акции",sales:{}}},methods:{getSales:function(){var t=this;Be.getSales().then((function(e){t.sales=e.data.content,console.log(t.sales)}))}},created:function(){this.getSales()}},Xe=Ke,Ye=Object(c["a"])(Xe,Re,Le,!1,null,null,null),Ze=Ye.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-and-a"},[a("Header"),a("div",{staticClass:"body"},[a("h1",[t._v(t._s(t.text))]),t._v(" Work in progress... Как зарегистрироваться? Как офрмить заказ? Как получить скидку на заказ? Как связатья ссотрудниками магазина? Как оформить возврат? ")]),a("Footer")],1)},ea=[],aa={name:"QandA",components:{Header:y,Footer:$},data:function(){return{text:"Частые вопросы"}}},ra=aa,na=Object(c["a"])(ra,ta,ea,!1,null,null,null),sa=na.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("Header"),a("div",{staticClass:"body"},[a("h1",[t._v(t._s(t.text))]),t._m(0)]),a("Footer")],1)},ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-info"},[a("p",[t._v('Интернет-магазин "Hand-made магазин "Любый питомец" реализует товары ручного производства для собак, кошек, рыбок и гызунов и является проектом выданным во производственной практики на предприятии ООО "Рексофт".')]),a("p",[t._v("Стек технологий:")]),a("ul",[a("li",[t._v("ЯП Java")]),a("li",[t._v("Spring Framework")]),a("li",[t._v("Vue.js")]),a("li",[t._v("Bootstrap")]),a("li",[t._v("СУБД PostgreSQL")])]),a("p",[t._v("Автор проекта: Липатов Никита Николаевич, студент группы 4-15ПКС")]),a("p",[t._v("Соавтор: Байков Станислав Эдуардович, студент группы 4-15ПКС (c 12.07.21)")]),a("p",[t._v("Под руководством:")]),a("p",[t._v("gitHub проекта: https://github.com/nikitalipatov25/shop-app")])])}],ca={name:"About",components:{Header:y,Footer:$},data:function(){return{text:"О магазине"}}},la=ca,ua=Object(c["a"])(la,oa,ia,!1,null,null,null),da=ua.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-container"},[a("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),a("form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("Введите Ваш логин")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t.errors.has("username")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Необходимо указать логин!")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Введите Ваш пароль")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.errors.has("password")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Необходимо указать пароль!")]):t._e()]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.loading}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),a("span",[t._v("Войти")])]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.loading},on:{click:function(e){return t.$router.push("/register")}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),a("span",[t._v("Зарегистрироваться")])])]),a("div",{staticClass:"form-group"},[t.message?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message))]):t._e()])])])])},pa=[],va=(a("d3b7"),a("25f0"),function t(e,a,r,n,s,o){Object(O["a"])(this,t),this.username=e,this.email=a,this.password=r,this.surname=n,this.name=s,this.secondname=o}),ga={name:"Login",data:function(){return{user:new va("",""),loading:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/personalarea")},methods:{handleLogin:function(){var t=this;this.loading=!0,this.$validator.validateAll().then((function(e){e?t.user.username&&t.user.password&&t.$store.dispatch("auth/login",t.user).then((function(){t.$router.push("/personalarea")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()})):t.loading=!1}))}}},fa=ga,ha=(a("fbb8"),Object(c["a"])(fa,ma,pa,!1,null,"07647e7a",null)),ba=ha.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-container"},[a("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),a("form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.handleRegister.apply(null,arguments)}}},[t.successful?t._e():a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"surname"}},[t._v("Укажите Вашу фамилию")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.surname,expression:"user.surname"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:30",expression:"'required|min:2|max:30'"}],staticClass:"form-control",attrs:{type:"text",name:"surname"},domProps:{value:t.user.surname},on:{input:function(e){e.target.composing||t.$set(t.user,"surname",e.target.value)}}}),t.submitted&&t.errors.has("surname")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("surname")))]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Укажите Ваше имя")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:16",expression:"'required|min:2|max:16'"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),t.submitted&&t.errors.has("name")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("name")))]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"secondname"}},[t._v("Укажите Ваше отчество (при наличии)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.secondname,expression:"user.secondname"},{name:"validate",rawName:"v-validate",value:"required|min:0|max:16",expression:"'required|min:0|max:16'"}],staticClass:"form-control",attrs:{type:"text",name:"secondname"},domProps:{value:t.user.secondname},on:{input:function(e){e.target.composing||t.$set(t.user,"secondname",e.target.value)}}}),t.submitted&&t.errors.has("secondname")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("secondname")))]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("Придумайте логин")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t.submitted&&t.errors.has("username")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("username")))]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Укажите Ваш эл. адрес")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t.submitted&&t.errors.has("email")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Приумайте пароль")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.submitted&&t.errors.has("password")?a("div",{staticClass:"alert-danger"},[t._v(t._s(t.errors.first("password")))]):t._e()]),t._m(0)])]),t.message?a("div",{staticClass:"alert",class:t.successful?"alert-success":"alert-danger"},[t._v(t._s(t.message))]):t._e()])])},ya=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-block"},[t._v("Зарегистрироваться")])])}],Ca={name:"Register",data:function(){return{user:new va("","","","","",""),submitted:!1,successful:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/personalarea")},methods:{handleRegister:function(){var t=this;this.message="",this.submitted=!0,this.$validator.validate().then((function(e){e&&t.$store.dispatch("auth/register",t.user).then((function(e){t.message=e.message,t.successful=!0,t.$router.push("/login")}),(function(e){t.message=e.response&&e.response.data||e.message||e.toString(),t.successful=!1}))}))}}},xa=Ca,ka=(a("4209"),Object(c["a"])(xa,_a,ya,!1,null,"c9201e36",null)),wa=ka.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin"},[a("Header"),a("div",{staticClass:"body"},[a("h1",[t._v("Панель администратора")]),a("CatalogTool"),a("DealsTool"),a("UserTool"),a("Animal_categoryTool"),a("Answer_commentTool"),a("OrdersTool")],1),a("Footer")],1)},$a=[],Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"catalog-tool"},[a("h2",[t._v("Работа с каталогом")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("add-product-modal")}}},[t._v("Добавить товар")]),a("b-modal",{attrs:{id:"add-product-modal","hide-footer":"",title:"Добавить товар"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите название товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("p",[t._v("Введите описание товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("p",[t._v("Введите стоимость товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("p",[t._v("Введите количество товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.amount,expression:"product.amount"}],attrs:{type:"text"},domProps:{value:t.product.amount},on:{input:function(e){e.target.composing||t.$set(t.product,"amount",e.target.value)}}})]),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectAnimal(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете тип животного")]),t._l(t.animals,(function(e){return a("option",{key:e.id},[t._v(t._s(e.name))])}))],2),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectCategory(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете категорию товара")]),t._l(t.categories,(function(e){return a("option",{key:e.id},[t._v(t._s(e.name))])}))],2),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})])]),a("button",{staticClass:"btn btn-success",on:{click:t.addNewProductToCatalog}},[t._v("Добавить товар")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-product-modal")}}},[t._v("Закрыть")])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("delete-product-modal")}}},[t._v("Удалить товар")]),a("b-modal",{attrs:{id:"delete-product-modal","hide-footer":"",title:"Удалить товар"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите артикул товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productUUID,expression:"productUUID"}],attrs:{type:"text"},domProps:{value:t.productUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findProduct.apply(null,arguments)},input:function(e){e.target.composing||(t.productUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"delete-body"},[a("strong",[t._v("Вы собираетесь удалить "+t._s(t.product.name))]),a("button",{staticClass:"btn btn-success",on:{click:t.deleteProductFromCatalog}},[t._v("Удалить товар")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("delete-product-modal")}}},[t._v("Закрыть")])]):t._e()])]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("modify-product-modal")}}},[t._v("Изменить товар")]),a("b-modal",{attrs:{id:"modify-product-modal","hide-footer":"",title:"Модифицировать товар"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите артикул товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productUUID,expression:"productUUID"}],attrs:{type:"text"},domProps:{value:t.productUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findProduct.apply(null,arguments)},input:function(e){e.target.composing||(t.productUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.product.image}})]),a("div",{staticClass:"col-8"},[a("p",[t._v("Название"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("p",[t._v("Введите описание товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("p",[t._v("Введите стоимость товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("p",[t._v("Введите количество товара: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.amount,expression:"product.amount"}],attrs:{type:"text"},domProps:{value:t.product.amount},on:{input:function(e){e.target.composing||t.$set(t.product,"amount",e.target.value)}}})]),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectAnimal(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете тип животного")]),t._l(t.animals,(function(e){return a("option",{key:e.id},[t._v(t._s(e.name))])}))],2),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectCategory(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете категорию товара")]),t._l(t.categories,(function(e){return a("option",{key:e.id},[t._v(t._s(e.name))])}))],2)])]),a("button",{staticClass:"btn btn-success",on:{click:t.modifyProductInCatalog}},[t._v("Модифицировать товар")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-product-modal")}}},[t._v("Закрыть")])]):t._e()])])],1)},Na=[],Oa="http://localhost:8080/file/",Da=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"uploadImage",value:function(t){var e=new FormData;return e.append("file",t),U.a.post("http://localhost:8080/upload",e,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"getImage",value:function(t){return U.a.get(Oa+t,{headers:{"Content-Type":"multipart/form-data"}})}}]),t}(),Aa=new Da,Ua={data:function(){return{product:{name:"",description:"",price:"",amount:"",animal:"",category:"",image:null},animals:[],categories:[],detectedProduct:{},productUUID:"",isDetected:!1,selectedFiles:void 0,currentFile:void 0}},methods:{getAnimals:function(){var t=this;j.getAnimals().then((function(e){t.animals=e.data,console.log(t.animals)}))},selectAnimal:function(t){var e=this;this.product.animal=t.target.value,j.getAnimal(this.product.animal).then((function(t){e.categories=t.data.categories}))},selectCategory:function(t){this.product.category=t.target.value},addNewProductToCatalog:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.product.image=t.currentFile.name,e.next=6,_t.addProductToCatalog(t.product);case 6:t.$bvModal.hide("add-product-modal");case 7:case"end":return e.stop()}}),e)})))()},findProduct:function(){var t=this;_t.getProductFromCatalog(this.productUUID).then((function(e){t.product.name=e.data.name,t.product.description=e.data.description,t.product.price=e.data.price,t.product.amount=e.data.amount,t.product.animal=e.data.animal,t.product.category=e.data.category,t.product.image=e.data.image,t.isDetected=!0}))},deleteProductFromCatalog:function(){_t.deleteProductFromCatalog(this.productUUID),this.$bvModal.hide("delete-product-modal")},modifyProductInCatalog:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.product.image=t.currentFile.name,e.next=6,_t.modifyProductInCatalog(t.productUUID,t.product);case 6:t.productUUID="",t.isDetected=!1;case 8:case"end":return e.stop()}}),e)})))()},selectFile:function(){this.selectedFiles=this.$refs.file.files}},created:function(){this.getAnimals()}},Sa=Ua,Fa=Object(c["a"])(Sa,Ia,Na,!1,null,null,null),Ta=Fa.exports,ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deals-tool"},[a("h2",[t._v("Работа с акциями")]),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.$bvModal.show("add-sale-modal")}}},[t._v("Добавить акцию")]),a("b-modal",{attrs:{id:"add-sale-modal","hide-footer":"",title:"Добавить акцию"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите название акции:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.name,expression:"sale.name"}],attrs:{type:"text"},domProps:{value:t.sale.name},on:{input:function(e){e.target.composing||t.$set(t.sale,"name",e.target.value)}}})]),a("p",[t._v("Введите описание акции:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.description,expression:"sale.description"}],attrs:{type:"text"},domProps:{value:t.sale.description},on:{input:function(e){e.target.composing||t.$set(t.sale,"description",e.target.value)}}})]),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("p",[t._v("Введите начальную дату акции:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.date,expression:"sale.date"}],attrs:{type:"text"},domProps:{value:t.sale.date},on:{input:function(e){e.target.composing||t.$set(t.sale,"date",e.target.value)}}})]),a("p",[t._v("Введите конечную дату акции:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.expirationDate,expression:"sale.expirationDate"}],attrs:{type:"text"},domProps:{value:t.sale.expirationDate},on:{input:function(e){e.target.composing||t.$set(t.sale,"expirationDate",e.target.value)}}})]),a("p",[t._v("Введите размер скидки:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.discount,expression:"sale.discount"}],attrs:{type:"text"},domProps:{value:t.sale.discount},on:{input:function(e){e.target.composing||t.$set(t.sale,"discount",e.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSaleType,expression:"selectedSaleType"}],staticClass:"form-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSaleType=e.target.multiple?a:a[0]},function(e){return t.selectSaleType(e)}]}},[a("option",{attrs:{selected:""}},[t._v("Выберете тип акции")]),t._l(t.saleTypes,(function(e){return a("option",{key:e,domProps:{value:e.value}},[t._v(" "+t._s(e.value)+" ")])}))],2),"Скидка на тип животных"===t.selectedSaleType?a("div",{staticClass:"animals"},[a("p",[t._v("Добавьте животных")]),t._l(t.animalsArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.animals,expression:"sale.animals"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.sale.animals)?t._i(t.sale.animals,e.name)>-1:t.sale.animals},on:{change:function(a){var r=t.sale.animals,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&t.$set(t.sale,"animals",r.concat([o])):i>-1&&t.$set(t.sale,"animals",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.sale,"animals",s)}}}),t._v(" "+t._s(e.name)+" ")])}))],2):t._e(),"Скидка на категории"===t.selectedSaleType?a("div",{staticClass:"categories"},[a("p",[t._v("Добавьте категории")]),t._l(t.categoriesArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.categories,expression:"sale.categories"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.sale.categories)?t._i(t.sale.categories,e.name)>-1:t.sale.categories},on:{change:function(a){var r=t.sale.categories,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&t.$set(t.sale,"categories",r.concat([o])):i>-1&&t.$set(t.sale,"categories",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.sale,"categories",s)}}}),t._v(" "+t._s(e.name)+" ")])}))],2):t._e(),"Скидка на продукты"===t.selectedSaleType?a("div",{staticClass:"products"},[a("p",[t._v("Добавьте продукты:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addedItem,expression:"addedItem"}],attrs:{type:"text"},domProps:{value:t.addedItem},on:{input:function(e){e.target.composing||(t.addedItem=e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addProduct}},[t._v("Добавить")])]),a("p",[t._v("Вы добавили")]),t._l(t.productsArr,(function(e,r){return a("div",{key:e},[t._v(" "+t._s(e)+" "),a("p",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(r)}}},[t._v("Удалить")])])])}))],2):t._e()]),a("button",{staticClass:"btn btn-success",on:{click:t.addNewDeal}},[t._v("Добавить акцию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-sale-modal")}}},[t._v("Закрыть")])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("delete-sale-modal")}}},[t._v("Удалить акцию")]),a("b-modal",{attrs:{id:"delete-sale-modal","hide-footer":"",title:"Удалить акцию"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор акции: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saleId,expression:"saleId"}],attrs:{type:"text"},domProps:{value:t.saleId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findSale.apply(null,arguments)},input:function(e){e.target.composing||(t.saleId=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"delete-body"},[a("strong",[t._v("Вы собираетесь удалить "+t._s(t.sale.name)+" со скидкой "+t._s(t.sale.discount)+" %")]),a("button",{staticClass:"btn btn-success",on:{click:t.deleteSale}},[t._v("Удалить акцию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("delete-sale-modal")}}},[t._v("Закрыть")])]):t._e()])]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("modify-sale-modal")}}},[t._v("Изменить акцию")]),a("b-modal",{attrs:{id:"modify-sale-modal","hide-footer":"",title:"Изменить акцию"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор акции: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saleId,expression:"saleId"}],attrs:{type:"text"},domProps:{value:t.saleId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findSale.apply(null,arguments)},input:function(e){e.target.composing||(t.saleId=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.sale.image}})]),a("div",{staticClass:"col-8"},[a("p",[t._v("Название"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.name,expression:"sale.name"}],attrs:{type:"text"},domProps:{value:t.sale.name},on:{input:function(e){e.target.composing||t.$set(t.sale,"name",e.target.value)}}})]),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("p",[t._v("Введите описание акции: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.description,expression:"sale.description"}],attrs:{type:"text"},domProps:{value:t.sale.description},on:{input:function(e){e.target.composing||t.$set(t.sale,"description",e.target.value)}}})]),a("p",[t._v("Введите дату начала: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.date,expression:"sale.date"}],attrs:{type:"text"},domProps:{value:t.sale.date},on:{input:function(e){e.target.composing||t.$set(t.sale,"date",e.target.value)}}})]),a("p",[t._v("Введите дату окончания акции: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.expirationDate,expression:"sale.expirationDate"}],attrs:{type:"text"},domProps:{value:t.sale.expirationDate},on:{input:function(e){e.target.composing||t.$set(t.sale,"expirationDate",e.target.value)}}})]),a("p",[t._v("Введите размер скидки: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.discount,expression:"sale.discount"}],attrs:{type:"text"},domProps:{value:t.sale.discount},on:{input:function(e){e.target.composing||t.$set(t.sale,"discount",e.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSaleType,expression:"selectedSaleType"}],staticClass:"form-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSaleType=e.target.multiple?a:a[0]},function(e){return t.selectSaleType(e)}]}},[a("option",{attrs:{selected:""}},[t._v("Выберете тип акции")]),t._l(t.saleTypes,(function(e){return a("option",{key:e,domProps:{value:e.value}},[t._v(" "+t._s(e.value)+" ")])}))],2),"Скидка на тип животных"===t.selectedSaleType?a("div",{staticClass:"animals"},[a("p",[t._v("Добавьте животных")]),t._l(t.animalsArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.animals,expression:"sale.animals"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.sale.animals)?t._i(t.sale.animals,e.name)>-1:t.sale.animals},on:{change:function(a){var r=t.sale.animals,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&t.$set(t.sale,"animals",r.concat([o])):i>-1&&t.$set(t.sale,"animals",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.sale,"animals",s)}}}),t._v(" "+t._s(e.name)+" ")])}))],2):t._e(),"Скидка на категории"===t.selectedSaleType?a("div",{staticClass:"categories"},[a("p",[t._v("Добавьте категории")]),t._l(t.categoriesArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sale.categories,expression:"sale.categories"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.sale.categories)?t._i(t.sale.categories,e.name)>-1:t.sale.categories},on:{change:function(a){var r=t.sale.categories,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&t.$set(t.sale,"categories",r.concat([o])):i>-1&&t.$set(t.sale,"categories",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.sale,"categories",s)}}}),t._v(" "+t._s(e.name)+" ")])}))],2):t._e(),"Скидка на продукты"===t.selectedSaleType?a("div",{staticClass:"products"},[a("p",[t._v("Добавьте продукты:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addedItem,expression:"addedItem"}],attrs:{type:"text"},domProps:{value:t.addedItem},on:{input:function(e){e.target.composing||(t.addedItem=e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addProduct}},[t._v("Добавить")])]),a("p",[t._v("Вы добавили")]),t._l(t.productsArr,(function(e,r){return a("div",{key:e},[t._v(" "+t._s(e)+" "),a("p",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(r)}}},[t._v("Удалить")])])])}))],2):t._e()])]),a("button",{staticClass:"btn btn-success",on:{click:t.modifySale}},[t._v("Изменить акцию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-sale-modal")}}},[t._v("Закрыть")])]):t._e()])])],1)},Ea=[],Ma=(a("a434"),{data:function(){return{sale:{name:"",description:"",image:null,date:"",expirationDate:"",discount:0,saleType:"",animals:[],categories:[],products:[]},saleTypes:[{value:"Скидка на тип животных"},{value:"Скидка на категории"},{value:"Скидка на продукты"}],animalsArr:[],categoriesArr:[],productsArr:[],selectedFiles:void 0,currentFile:void 0,selectedSaleType:"Выберете тип акции",addedItem:"",saleId:"",isDetected:!1}},methods:{findSale:function(){var t=this;Be.getSale(this.saleId).then((function(e){t.sale.name=e.data.name,t.sale.description=e.data.description,t.sale.date=e.data.date,t.sale.expirationDate=e.data.expirationDate,t.sale.discount=e.data.discount,t.sale.image=e.data.image,t.isDetected=!0}))},deleteSale:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Be.deleteSale(t.saleId);case 2:t.isDetected=!1,t.saleId="",t.$bvModal.hide("delete-sale-modal");case 5:case"end":return e.stop()}}),e)})))()},modifySale:function(){this.sale.id=this.saleId,Be.modifySale(this.sale)},getAnimals:function(){var t=this;j.getAnimals().then((function(e){t.animalsArr=e.data}))},getCategories:function(){var t=this;dt.getCategoriesSet().then((function(e){t.categoriesArr=e.data}))},addProduct:function(){var t=this;_t.getOneProduct(this.addedItem).then((function(e){var a=e.data.id+" "+e.data.name;t.sale.products.push(t.addedItem),t.productsArr.push(a),t.addedItem=""}))},deleteProduct:function(t){this.sale.products.splice(t,1),this.productsArr.splice(t,1)},selectSaleType:function(t){this.sale.saleType=t.target.value},addNewDeal:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.sale.image=t.currentFile.name,e.next=6,Be.createSale(t.sale);case 6:case"end":return e.stop()}}),e)})))()},selectFile:function(){this.selectedFiles=this.$refs.file.files,console.log(this.selectedFiles)}},created:function(){this.getAnimals(),this.getCategories()}}),Ra=Ma,La=Object(c["a"])(Ra,ja,Ea,!1,null,null,null),Ha=La.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deals-tool"},[a("h2",[t._v("Работа с пользователями")]),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.$bvModal.show("promote-user-modal")}}},[t._v("Добавить администратора")]),a("b-modal",{attrs:{id:"promote-user-modal","hide-footer":"",title:"Добавить администратора"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор пользователя: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],attrs:{type:"text"},domProps:{value:t.userId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findUser.apply(null,arguments)},input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("p",[t._v("Фамилия: "+t._s(t.user.surname))]),a("p",[t._v("Имя: "+t._s(t.user.name))]),a("p",[t._v("Отчество: "+t._s(t.user.secondname))]),a("p",[t._v("Роль: "+t._s(t.user.role))]),a("button",{staticClass:"btn btn-success",on:{click:t.promoteToAdmin}},[t._v("Сделать администратором")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("promote-user-modal")}}},[t._v("Закрыть")])]):t._e()])]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("demote-user-modal")}}},[t._v("Удалить администратора")]),a("b-modal",{attrs:{id:"demote-user-modal","hide-footer":"",title:"Добавить администратора"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор пользователя: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],attrs:{type:"text"},domProps:{value:t.userId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findUser.apply(null,arguments)},input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("p",[t._v("Фамилия: "+t._s(t.user.surname))]),a("p",[t._v("Имя: "+t._s(t.user.name))]),a("p",[t._v("Отчество: "+t._s(t.user.secondname))]),a("p",[t._v("Роль: "+t._s(t.user.role))]),a("button",{staticClass:"btn btn-success",on:{click:t.demoteToUser}},[t._v("Сделать пользователем")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("demote-user-modal")}}},[t._v("Закрыть")])]):t._e()])])],1)},Ba=[],Qa={data:function(){return{user:{name:"",surname:"",secondname:"",role:""},userId:"",isDetected:!1}},methods:{findUser:function(){var t=this;xe.getUserById(this.userId).then((function(e){t.user.name=e.data.name,t.user.surname=e.data.surname,t.user.secondname=e.data.secondName,t.user.role=e.data.roles[0].name,t.isDetected=!0,console.log(e)}))},promoteToAdmin:function(){xe.promoteToAdmin(this.userId)},demoteToUser:function(){xe.demoteToUser(this.userId)}}},Va=Qa,Wa=Object(c["a"])(Va,qa,Ba,!1,null,null,null),Ja=Wa.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animal-category-tool"},[a("div",{staticClass:"category"},[a("h2",[t._v("Работа с категориями")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("add-category-modal")}}},[t._v("Добавить категории")]),a("b-modal",{attrs:{id:"add-category-modal","hide-footer":"",title:"Добавить категории"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите название категории:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.categoryName,expression:"category.categoryName"}],attrs:{type:"text"},domProps:{value:t.category.categoryName},on:{input:function(e){e.target.composing||t.$set(t.category,"categoryName",e.target.value)}}})]),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})])]),a("button",{staticClass:"btn btn-success",on:{click:t.addCategory}},[t._v("Добавить категорию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-category-modal")}}},[t._v("Закрыть")])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("delete-category-modal")}}},[t._v("Удалить категории")]),a("b-modal",{attrs:{id:"delete-category-modal","hide-footer":"",title:"Удалить категории"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор категории, которую хотите удалить: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryUUID,expression:"categoryUUID"}],attrs:{type:"text"},domProps:{value:t.categoryUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findCategory.apply(null,arguments)},input:function(e){e.target.composing||(t.categoryUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.category.imageURL}}),a("strong",[t._v("Вы собираетесь удалить "+t._s(t.category.categoryName))]),a("button",{staticClass:"btn btn-success",on:{click:t.deleteCategory}},[t._v("Удалить категорию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("delete-category-modal")}}},[t._v("Закрыть")])]):t._e()])]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("modify-category-modal")}}},[t._v("Изменить категории")]),a("b-modal",{attrs:{id:"modify-category-modal","hide-footer":"",title:"Изменить категори"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор категории, которую хотите изменить : "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryUUID,expression:"categoryUUID"}],attrs:{type:"text"},domProps:{value:t.categoryUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findCategory.apply(null,arguments)},input:function(e){e.target.composing||(t.categoryUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.category.imageURL}}),a("p",[t._v("Измените название"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.categoryName,expression:"category.categoryName"}],attrs:{type:"text"},domProps:{value:t.category.categoryName},on:{input:function(e){e.target.composing||t.$set(t.category,"categoryName",e.target.value)}}})]),a("p",[t._v("Измените фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("button",{staticClass:"btn btn-success",on:{click:t.modifyCategory}},[t._v("Изменить категорию")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-category-modal")}}},[t._v("Закрыть")])]):t._e()])])],1),a("div",{staticClass:"animal"},[a("h2",[t._v("Работа с животными")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("add-animal-modal")}}},[t._v("Добавить животных")]),a("b-modal",{attrs:{id:"add-animal-modal","hide-footer":"",title:"Добавить животных"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите название животного:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.animal.animalName,expression:"animal.animalName"}],attrs:{type:"text"},domProps:{value:t.animal.animalName},on:{input:function(e){e.target.composing||t.$set(t.animal,"animalName",e.target.value)}}})]),a("p",[t._v("Добавьте фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("p",[t._v("Добавьте категории")]),t._l(t.categoriesArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.animal.categories,expression:"animal.categories"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.animal.categories)?t._i(t.animal.categories,e.name)>-1:t.animal.categories},on:{change:function(a){var r=t.animal.categories,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&t.$set(t.animal,"categories",r.concat([o])):i>-1&&t.$set(t.animal,"categories",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.animal,"categories",s)}}}),t._v(" "+t._s(e.name)+" ")])}))],2),a("button",{staticClass:"btn btn-success",on:{click:t.addAnimal}},[t._v("Добавить животного")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-animal-modal")}}},[t._v("Закрыть")])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("delete-animal-modal")}}},[t._v("Удалить животных")]),a("b-modal",{attrs:{id:"delete-animal-modal","hide-footer":"",title:"Удалить животных"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор животного, которое хотите удалить: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.animalUUID,expression:"animalUUID"}],attrs:{type:"text"},domProps:{value:t.animalUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findAnimal.apply(null,arguments)},input:function(e){e.target.composing||(t.animalUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"delete-body"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.category.imageURL}}),a("strong",[t._v("Вы собираетесь удалить "+t._s(t.animal.animalName))]),a("button",{staticClass:"btn btn-success",on:{click:t.deleteAnimal}},[t._v("Удалить животное")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("delete-animal-modal")}}},[t._v("Закрыть")])]):t._e()])]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("modify-animal-modal")}}},[t._v("Изменить животных")]),a("b-modal",{attrs:{id:"modify-animal-modal","hide-footer":"",title:"Изменить животных"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите идентификатор животного, которое хотите изменить : "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.animalUUID,expression:"animalUUID"}],attrs:{type:"text"},domProps:{value:t.animalUUID},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findAnimal.apply(null,arguments)},input:function(e){e.target.composing||(t.animalUUID=e.target.value)}}})]),t.isDetected?a("div",{staticClass:"modify-body"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"http://localhost:8080/files/"+t.animal.imageURL}}),a("p",[t._v("Измените название"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.animal.animalName,expression:"animal.animalName"}],attrs:{type:"text"},domProps:{value:t.animal.animalName},on:{input:function(e){e.target.composing||t.$set(t.animal,"animalName",e.target.value)}}})]),a("p",[t._v("Измените фотографию:"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.selectFile}})]),a("p",[t._v("Добавьте категории")]),t._l(t.categoriesArr,(function(e){return a("div",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCategories,expression:"newCategories"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.newCategories)?t._i(t.newCategories,e.name)>-1:t.newCategories},on:{change:function(a){var r=t.newCategories,n=a.target,s=!!n.checked;if(Array.isArray(r)){var o=e.name,i=t._i(r,o);n.checked?i<0&&(t.newCategories=r.concat([o])):i>-1&&(t.newCategories=r.slice(0,i).concat(r.slice(i+1)))}else t.newCategories=s}}}),t._v(" "+t._s(e.name)+" ")])})),a("button",{staticClass:"btn btn-success",on:{click:t.modifyAnimal}},[t._v("Изменить животное")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("modify-animal-modal")}}},[t._v("Закрыть")])],2):t._e()])])],1)])},Ga=[],Ka={data:function(){return{animal:{animalName:"",imageURL:null,categories:[]},category:{categoryName:"",imageURL:"",animals:[]},categoryUUID:"",categoriesArr:[],newCategories:[],animalUUID:"",isDetected:!1,selectedFiles:void 0,currentFile:void 0}},methods:{modifyCategory:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.category.imageURL=t.currentFile.name,e.next=6,dt.modifyCategory(t.categoryUUID,t.category);case 6:case"end":return e.stop()}}),e)})))()},deleteCategory:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,dt.deleteCategory(t.categoryUUID);case 2:t.categoryUUID="",t.isDetected=!1;case 4:case"end":return e.stop()}}),e)})))()},findCategory:function(){var t=this;dt.getCategory(this.categoryUUID).then((function(e){t.category.categoryName=e.data.name,t.category.imageURL=e.data.imageURL,t.isDetected=!0}))},addCategory:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.category.imageURL=t.currentFile.name,e.next=6,dt.addCategory(t.category);case 6:case"end":return e.stop()}}),e)})))()},findAnimal:function(){var t=this;j.getAnimal(this.animalUUID).then((function(e){t.animal.animalName=e.data.name,t.animal.imageURL=e.data.imageURL,t.animal.categories=e.data.categories.name,t.isDetected=!0}))},addAnimal:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.animal.imageURL=t.currentFile.name,e.next=6,j.addAnimal(t.animal);case 6:case"end":return e.stop()}}),e)})))()},deleteAnimal:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.deleteAnimal(t.animalUUID);case 2:t.animalUUID="",t.isDetected=!1;case 4:case"end":return e.stop()}}),e)})))()},modifyAnimal:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentFile=t.selectedFiles.item(0),e.next=3,Aa.uploadImage(t.currentFile);case 3:return t.animal.imageURL=t.currentFile.name,t.animal.categories=t.newCategories,e.next=7,j.modifyAnimal(t.animalUUID,t.animal);case 7:case"end":return e.stop()}}),e)})))()},getCategories:function(){var t=this;dt.getCategoriesSet().then((function(e){t.categoriesArr=e.data}))},selectFile:function(){this.selectedFiles=this.$refs.file.files}},created:function(){this.getCategories()}},Xa=Ka,Ya=Object(c["a"])(Xa,za,Ga,!1,null,null,null),Za=Ya.exports,tr=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},er=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-answer-tool"},[a("h2",[t._v("Работа с комментариями и ответами")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Модерация комметариев")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Удалить комментарий и ответы к нему")])])}],ar={},rr=Object(c["a"])(ar,tr,er,!1,null,null,null),nr=rr.exports,sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orders-tool"},[a("h2",[t._v("Работа с заказами")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.show("change-order-status")}}},[t._v("Изменить статус заказа")]),a("b-modal",{attrs:{id:"change-order-status","hide-footer":"",title:"Изменить статус заказа"}},[a("div",{staticClass:"d-block text-left"},[a("p",[t._v("Введите номер заказа: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.id,expression:"order.id"}],attrs:{type:"text"},domProps:{value:t.order.id},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findOrder.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.order,"id",e.target.value)}}})]),t.isDetected?a("div",{staticClass:"change-order-body"},[a("p",[t._v("Заказ № "+t._s(t.order.orderId)+" от "+t._s(t.order.date)+" ")]),a("select",{staticClass:"form-select",on:{change:function(e){return t.selectStatus(e)}}},[a("option",{attrs:{selected:""}},[t._v("Выберете статус заказа")]),t._l(t.statuses,(function(e){return a("option",{key:e.id},[t._v(t._s(e.orderStatus))])}))],2),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.modifyOrderStatus}},[t._v("Изменить статус")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("change-order-status")}}},[t._v("Закрыть")])]):t._e()])])],1)},or=[],ir={data:function(){return{order:{orderId:"",date:"",orderStatus:""},isDetected:!1,statuses:[]}},methods:{selectStatus:function(t){this.order.orderStatus=t.target.value},findOrder:function(){var t=this;_e.getOrder(this.order.id).then((function(e){t.order.orderId=e.data.orderId,t.order.date=e.data.date,t.order.orderStatus=e.data.orderStatus,t.isDetected=!0}))},getOrderStatusesList:function(){var t=this;_e.getOrderStatusesList().then((function(e){t.statuses=e.data}))},modifyOrderStatus:function(){_e.modifyOrderStatus(this.order),this.isDetected=!1,this.order.orderId=""}},created:function(){this.getOrderStatusesList()}},cr=ir,lr=Object(c["a"])(cr,sr,or,!1,null,null,null),ur=lr.exports,dr={components:{OrdersTool:ur,Answer_commentTool:nr,Animal_categoryTool:Za,Header:y,Footer:$,CatalogTool:Ta,DealsTool:Ha,UserTool:Ja}},mr=dr,pr=Object(c["a"])(mr,Pa,$a,!1,null,null,null),vr=pr.exports;r["default"].use(d["a"]);var gr=new d["a"]({mode:"history",routes:[{path:"/",name:"main-page",component:G},{path:"/catalog",name:"catalog-page",component:kt},{path:"/productpage/:id",name:"product-page",component:ce},{path:"/personalarea",name:"personal-area",component:$e},{path:"/cart",name:"cart",component:Me},{path:"/sale",name:"sale",component:Ze},{path:"/questions",name:"questions",component:sa},{path:"/about",name:"about",component:da},{path:"/login",component:ba},{path:"/register",component:wa},{path:"/admin",component:vr}]}),fr=a("2f62"),hr="http://localhost:8080/api/auth/",br=function(){function t(){Object(O["a"])(this,t)}return Object(D["a"])(t,[{key:"login",value:function(t){return U.a.post(hr+"signin",{username:t.username,password:t.password}).then((function(t){return t.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(t){return U.a.post(hr+"signup",{username:t.username,email:t.email,password:t.password,surname:t.surname,name:t.name,secondName:t.secondname})}}]),t}(),_r=new br,yr=JSON.parse(localStorage.getItem("user")),Cr=yr?{status:{loggedIn:!0},user:yr}:{status:{loggedIn:!1},user:null},xr={namespaced:!0,state:Cr,actions:{login:function(t,e){var a=t.commit;return _r.login(e).then((function(t){return a("loginSuccess",t),Promise.resolve(t)}),(function(t){return a("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;_r.logout(),e("logout")},register:function(t,e){var a=t.commit;return _r.register(e).then((function(t){return a("registerSuccess"),Promise.resolve(t.data)}),(function(t){return a("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1}}};r["default"].use(fr["a"]);var kr=new fr["a"].Store({modules:{auth:xr}}),wr=(a("7b17"),a("ab8b"),a("7bb1")),Pr=a("5f5b"),$r=(a("2dd8"),a("3e48"),a("c5ec"),a("ecee")),Ir=a("ad3d"),Nr=a("c074");r["default"].use(wr["a"]),r["default"].use(Pr["a"]),r["default"].component("font-awesome-icon",Ir["a"]),$r["c"].add(Nr["a"],Nr["d"],Nr["e"],Nr["b"],Nr["c"]);var Or=new r["default"];r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(u)},router:gr,store:kr}).$mount("#app")},"636e":function(t,e,a){},"641a":function(t,e,a){},6634:function(t,e,a){"use strict";a("636e")},6860:function(t,e,a){},"691e":function(t,e,a){},"774b":function(t,e,a){"use strict";a("b154")},"7ffe":function(t,e,a){t.exports=a.p+"img/vk.09d8cec9.png"},8226:function(t,e,a){},"8baf":function(t,e,a){"use strict";a("6860")},"8d4f":function(t,e,a){"use strict";a("38bb")},"989d":function(t,e,a){"use strict";a("298c")},b069:function(t,e,a){t.exports=a.p+"img/instagram.fe436605.png"},b154:function(t,e,a){},cb20:function(t,e,a){},cf17:function(t,e,a){"use strict";a("cb20")},d1bd:function(t,e,a){"use strict";a("691e")},fbb8:function(t,e,a){"use strict";a("16d7")}});
//# sourceMappingURL=app.a7c25361.js.map